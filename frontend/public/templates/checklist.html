<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Checklist de Inspección Vehicular</title>
  <style>
    @page { size: A4; margin: 15mm; }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      width: 210mm;
      height: 297mm;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }
    .header { display: flex; flex-direction: column; margin-bottom: 5mm; flex: 0 0 auto; }
    .header-part1, .header-part2 { display: flex; box-sizing: border-box; }
    .header-part1 > div, .header-part2 > div { border: 1px solid #000; padding: 3mm; box-sizing: border-box; }
    .header-part1 .left { width: 20%; display: flex; align-items: center; justify-content: center; }
    .header-part1 .center { width: 60%; text-align: center; font-weight: bold; font-size: 16pt; display: flex; align-items: center; justify-content: center; }
    .header-part1 .right { width: 20%; text-align: center; font-size: 12pt; display: flex; align-items: center; justify-content: center; }
    .header-part2 > div { width: 33.33%; }
    .body { display: flex; flex: 1 1 auto; gap: 5mm; }
    .column { flex: 1 1 0; display: flex; flex-direction: column; gap: 5mm; }
    .sub-box { flex: 1 1 auto; border: 1px solid #000; border-radius: 5px; padding: 3mm; display: flex; flex-direction: column; justify-content: flex-start; page-break-inside: avoid; }
    .sub-box h3 { background-color: #e0e0e0; margin: -3mm -3mm 3mm -3mm; padding: 2mm; font-size: 12pt; text-align: center; }
    .sub-box-content div { font-size: 10pt; margin-bottom: 2mm; }
    img { max-width: 100%; max-height: 100%; }
  </style>
</head>
<body>

<div id="checklist-container"></div>

<script>
  // JSON de ejemplo
  const checklistData = {
    header: {
      logo: "logo.png",
      title: "Checklist de Inspección Vehicular",
      generation: "29/09/2025",
      vehicle: {
        placa: "ABC-123",
        empresa: "LogistiPeru S.A.C.",
        conductor: "Juan Pérez",
        ingreso: "29/09/2025 08:00",
        salida: "29/09/2025 17:00",
        kilometraje: "120,000 km",
        combustible: "3/4 Tanque"
      }
    },
    body: {
      leftColumn: [
        { title: "Luces", items: ["Faro delantero: ✔", "Faro trasero: ✔", "Direccionales: ✖"] },
        { title: "Motor", items: ["Nivel de aceite: ✔", "Correa: ✔"] },
        { title: "Documentos", items: ["SOAT: ✔", "Revisión técnica: ✔"] }
      ],
      rightColumn: [
        { title: "Ruedas y llantas", items: ["Neumáticos delanteros: ✔", "Neumáticos traseros: ✔", "Presión: ✔"] },
        { title: "Accesorios de seguridad", items: ["Extintor: ✔", "Triángulo: ✔"] },
        { title: "Nivel de combustible", items: ["Nivel: 3/5"] }
      ]
    }
  };

  const container = document.getElementById("checklist-container");

  // Encabezado
  const headerDiv = document.createElement("div");
  headerDiv.className = "header";

  const part1 = document.createElement("div");
  part1.className = "header-part1";
  part1.innerHTML = `
    <div class="left"><img src="${checklistData.header.logo}" alt="Logo"></div>
    <div class="center">${checklistData.header.title}</div>
    <div class="right">${checklistData.header.generation}</div>
  `;
  headerDiv.appendChild(part1);

  const part2 = document.createElement("div");
  part2.className = "header-part2";
  const v = checklistData.header.vehicle;
  part2.innerHTML = `
    <div>
      <strong>Placa:</strong> ${v.placa}<br>
      <strong>Empresa:</strong> ${v.empresa}<br>
      <strong>Conductor:</strong> ${v.conductor}
    </div>
    <div>
      <strong>Ingreso:</strong> ${v.ingreso}<br>
      <strong>Salida:</strong> ${v.salida}
    </div>
    <div>
      <strong>Kilometraje:</strong> ${v.kilometraje}<br>
      <strong>Combustible:</strong> ${v.combustible}
    </div>
  `;
  headerDiv.appendChild(part2);
  container.appendChild(headerDiv);

  // Cuerpo
  const bodyDiv = document.createElement("div");
  bodyDiv.className = "body";

  // Función para crear columnas dinámicas
  function createColumn(dataArray) {
    const col = document.createElement("div");
    col.className = "column";
    dataArray.forEach(section => {
      const subBox = document.createElement("div");
      subBox.className = "sub-box";
      subBox.innerHTML = `<h3>${section.title}</h3>`;
      const contentDiv = document.createElement("div");
      contentDiv.className = "sub-box-content";
      section.items.forEach(item => {
        const itemDiv = document.createElement("div");
        itemDiv.textContent = item;
        contentDiv.appendChild(itemDiv);
      });
      subBox.appendChild(contentDiv);
      col.appendChild(subBox);
    });
    return col;
  }

  bodyDiv.appendChild(createColumn(checklistData.body.leftColumn));
  bodyDiv.appendChild(createColumn(checklistData.body.rightColumn));

  container.appendChild(bodyDiv);
</script>

</body>
</html>
